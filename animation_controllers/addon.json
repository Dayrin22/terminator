{
  "format_version": "1.10.0",
  "animation_controllers": {
    "controller.animation.setup": {
      "initial_state": "default_state",
      "states":{         
        "default_state":{
          "transitions":[{"manhunt_setup": "q.is_moving"}]
        },
        "manhunt_setup": {
          "on_entry": [
            "/scoreboard objectives add players dummy",
            "/scoreboard players set @s[tag=host] players 0",
            "/clearspawnpoint @a",
            "/spawnpoint @a ~ ~ ~",
            "/spreadplayers ~ ~ 1 10 @a",
            "/gamemode a @a",
            "/gamerule naturalregeneration true",
            "/gamerule dodaylightcycle true",
            "/gamerule doimmediaterespawn false",
            "/gamerule showcoordinates true",
            "/gamerule spawnradius 10",
            "/gamerule sendcommandfeedback false",
            "/gamerule pvp false",
            "/gamerule falldamage false",
            "/time set 0",
            "/tellraw @s {\"rawtext\":[{\"text\":\"§aSetup complete.\"}]}",
            "/tellraw @s {\"rawtext\":[{\"text\":\"―――――――――――――――――\"}]}",
            "/tellraw @s {\"rawtext\":[{\"text\":\"§cWhoever execute command §r§l/function start §r§cbecomes a speedrunner, and the rest are hunters.\"}]}",
            "/tellraw @s {\"rawtext\":[{\"text\":\"§ePlease make sure that you do NOT leave until the game ends, or the game will corrupt.\"}]}",
            "/tellraw @s {\"rawtext\":[{\"text\":\"―――――――――――――――――\"}]}",
            "/tellraw @s {\"rawtext\":[{\"text\":\"§aMore info at: §bhttps://mcpedl.com/minecraft-manhunt\"}]}",
            "/tellraw @s {\"rawtext\":[{\"text\":\"§bSupport Discord Server: §bhttps://discord.gg/EFB7aru\"}]}",
            "/tag @s add host"
          ]
        }
      }
    },
    "controller.animation.hunter_compass":{ 
      "states":{ 
        "compass_detect":{ 
          "transitions":[{"holding_compass": "q.get_equipped_item_name == 'compass'" }]
        },
        "holding_compass":{ 
          "transitions":[{"compass_detect":"(1.0)"}],
          "on_entry":[ "/function system/compass" ]
        } 
      } 
    },
    "controller.animation.enderdragon.death":{ 
      "states":{ 
        "runtimes":{ 
          "transitions":[{"detect_dragon":"query.is_alive" }]
        },
        "detect_dragon":{ 
          "transitions":[{ "on_challenge_complete":"!query.is_alive" }] 
        }, 
        "on_challenge_complete":{ 
          "transitions":[{"runtimes":"(1.0)"}],
          "on_entry":[ "/function system/enderdragondeath" ]
        } 
      } 
    },
    "controller.animation.player.death":{
      "states":{
        "player_alive":{
          "transitions":[{"player_detect":"query.is_alive"}],
          "on_entry":[ "/tag @s remove death" ]
        },
        "player_detect":{
          "transitions":[{"death_notification":"!query.is_alive"}]
        },
        "death_notification":{
          "transitions":[{"player_alive":"(1.0)"}],
          "on_entry":[ "/tag @s add death" ]
        }
      }
    }
  }
}
